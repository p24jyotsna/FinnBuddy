<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FinBuddy ‚Äì Standalone HTML</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --primary: #6366f1;
    }
    .text-primary { color: var(--primary); }
    .bg-primary\/10 { background-color: rgba(99, 102, 241, 0.1); }
    .bg-primary { background-color: var(--primary); }
    .hover\:bg-primary:hover { background-color: var(--primary); }
    .dark .dark\:from-slate-900 { background-color: #0f172a; }
    .dark .dark\:to-slate-950 { background-color: #020617; }
    .text-muted-foreground { color: #6b7280; }
    .bg-muted { background-color: #e5e7eb; }
    .border { border-color: #e5e7eb; }
    /* Simple "secondary" style */
    .btn-secondary {
      background-color: #f3f4f6;
    }
    .btn-secondary:hover {
      background-color: #e5e7eb;
    }
    /* Badge */
    .badge {
      display: inline-block;
      padding: 0.25rem 0.5rem;
      font-size: 0.75rem;
      border-radius: 9999px;
      background: #f3f4f6;
      color: #111827;
    }
    .badge-emerald {
      background: #059669; color: #fff;
    }
  </style>

  <!-- React / ReactDOM / Babel -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Recharts UMD -->
  <script src="https://unpkg.com/recharts/umd/Recharts.min.js"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useMemo } = React;
    const {
      LineChart, Line, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer,
      PieChart, Pie, Cell, BarChart, Bar, RadialBarChart, RadialBar
    } = Recharts;

    // ---------- Demo Data ----------
    const spendingByCategory = [
      { name: "Food", value: 5400 },
      { name: "Transport", value: 1900 },
      { name: "Shopping", value: 3500 },
      { name: "Entertainment", value: 2400 },
      { name: "Bills", value: 4100 },
    ];

    const monthlyCashflow = [
      { month: "Jun", inflow: 32000, outflow: 22000 },
      { month: "Jul", inflow: 34000, outflow: 23000 },
      { month: "Aug", inflow: 35500, outflow: 24000 },
      { month: "Sep", inflow: 36000, outflow: 26500 },
      { month: "Oct", inflow: 38000, outflow: 27100 },
      { month: "Nov", inflow: 40000, outflow: 28600 },
    ];

    const investments = [
      { name: "MFs", value: 120000 },
      { name: "Stocks", value: 80000 },
      { name: "Gold", value: 25000 },
      { name: "FD/RD", value: 90000 },
    ];

    const socialChallenges = [
      { name: "No-Sugar Week", members: 42, pot: 4200, progress: 0.68 },
      { name: "‚Çπ100/Day Save", members: 96, pot: 19200, progress: 0.41 },
      { name: "Taxi‚ÜíMetro Swap", members: 28, pot: 5600, progress: 0.87 },
    ];

    const goalTemplates = [
      { id: "trip", label: "Goa Trip", target: 15000, saved: 6200 },
      { id: "iphone", label: "New Phone", target: 60000, saved: 18000 },
      { id: "course", label: "Data Course", target: 12000, saved: 7200 },
    ];

    const COLORS = ["#10b981", "#6366f1", "#f59e0b", "#ef4444", "#14b8a6", "#8b5cf6"];
    const currency = (n) => new Intl.NumberFormat("en-IN", { style: "currency", currency: "INR", maximumFractionDigits: 0 }).format(n);

    // ---------- Light UI abstractions ----------
    const Card = ({ className="", children }) => <div className={"rounded-2xl border bg-white shadow-sm " + className}>{children}</div>;
    const CardHeader = ({ children, className="" }) => <div className={"p-4 border-b " + className}>{children}</div>;
    const CardTitle = ({ children, className="" }) => <div className={"text-base font-semibold " + className}>{children}</div>;
    const CardContent = ({ children, className="" }) => <div className={"p-4 " + className}>{children}</div>;
    const CardFooter = ({ children, className="" }) => <div className={"p-4 border-t text-sm text-muted-foreground " + className}>{children}</div>;
    const Button = ({ children, className="", variant, ...rest }) => {
      const base = "px-3 py-2 rounded-xl text-sm font-medium transition";
      const style = variant === "secondary"
        ? " btn-secondary"
        : " bg-primary text-white hover:opacity-90";
      return <button className={base + style + " " + className} {...rest}>{children}</button>;
    };
    const Input = (props) => <input {...props} className={"w-full border rounded-xl px-3 py-2 text-sm " + (props.className||"")} />;
    const Label = (props) => <label {...props} className={"text-xs block mb-1 " + (props.className||"")} />;
    const Badge = ({ children, className="", variant }) => {
      let extra = "";
      if (variant === "secondary") extra = "";
      return <span className={"badge " + className}>{children}</span>;
    };
    const Switch = ({ defaultChecked }) => (
      <label className="inline-flex items-center cursor-pointer">
        <input type="checkbox" defaultChecked={defaultChecked} className="sr-only peer"/>
        <div className="w-10 h-6 bg-gray-200 rounded-full peer peer-checked:bg-indigo-500 relative after:content-[''] after:absolute after:top-1 after:left-1 after:w-4 after:h-4 after:bg-white after:rounded-full after:transition-all peer-checked:after:translate-x-4"></div>
      </label>
    );

    // Simple Section header
    const SectionTitle = ({ icon, title, subtitle }) => (
      <div className="flex items-start justify-between gap-4">
        <div>
          <div className="flex items-center gap-2">
            <span className="text-primary">{icon}</span>
            <h2 className="text-xl font-semibold">{title}</h2>
          </div>
          {subtitle && <p className="text-sm text-muted-foreground mt-1">{subtitle}</p>}
        </div>
        <Badge className="rounded-full">Smart Coach</Badge>
      </div>
    );

    const KPI = ({ label, value, hint }) => (
      <Card>
        <CardHeader className="pb-2">
          <CardTitle className="text-sm text-muted-foreground font-medium">{label}</CardTitle>
        </CardHeader>
        <CardContent className="pt-0">
          <div className="text-2xl font-bold">{value}</div>
          {hint && <div className="text-xs text-muted-foreground mt-1">{hint}</div>}
        </CardContent>
      </Card>
    );

    // ---------- Reusable blocks ----------
    const SmartAlert = ({ text }) => (
      <div className="p-3 border rounded-xl flex items-center gap-2">
        <span>üîî</span>
        <span className="text-sm">{text}</span>
      </div>
    );

    const BillList = () => {
      const bills = [
        { name: "Spotify Student", date: "15 Nov", amount: 59 },
        { name: "Phone", date: "18 Nov", amount: 399 },
        { name: "Wi‚ÄëFi", date: "22 Nov", amount: 699 },
      ];
      return (
        <Card>
          <CardHeader><CardTitle>Upcoming Bills</CardTitle></CardHeader>
          <CardContent className="space-y-2">
            {bills.map((b, i) => (
              <div key={i} className="flex items-center justify-between p-3 border rounded-xl">
                <div className="flex items-center gap-3">
                  <span>üßæ</span>
                  <div>
                    <div className="font-medium">{b.name}</div>
                    <div className="text-xs text-muted-foreground">Due {b.date}</div>
                  </div>
                </div>
                <div className="font-semibold">{currency(b.amount)}</div>
              </div>
            ))}
          </CardContent>
        </Card>
      );
    };

    const CashflowCalendar = () => {
      const days = Array.from({ length: 14 }).map((_, i) => {
        const d = new Date();
        d.setDate(d.getDate() + i);
        return d;
      });
      const paydays = new Set([3, 10]);
      const billOffsets = new Map([
        [5, { name: "Wi‚ÄëFi", amount: 699 }],
        [8, { name: "Phone", amount: 399 }],
      ]);
      return (
        <div className="grid grid-cols-2 md:grid-cols-7 gap-2">
          {days.map((d, i) => {
            const isPayday = paydays.has(i);
            const bill = billOffsets.get(i);
            return (
              <div key={i} className="rounded-2xl p-3 border bg-white">
                <div className="text-xs text-muted-foreground">{d.toLocaleDateString("en-IN", { weekday: "short" })}</div>
                <div className="text-lg font-semibold">{d.getDate()}</div>
                {isPayday && <span className="badge badge-emerald mt-2 inline-block">Payday {currency(20000)}</span>}
                {bill && <span className="badge mt-2 inline-block">Bill: {bill.name} {currency(bill.amount)}</span>}
              </div>
            );
          })}
        </div>
      );
    };

    const QuickAdd = ({ cashBalance, onQuickAdd }) => {
      const [label, setLabel] = useState("");
      const [amount, setAmount] = useState("");
      return (
        <Card>
          <CardHeader>
            <CardTitle className="text-base">‚ûï Quick Add (affects Cash Maintained)</CardTitle>
          </CardHeader>
          <CardContent className="grid md:grid-cols-5 gap-2">
            <div className="md:col-span-2">
              <Label className="text-xs">Label</Label>
              <Input value={label} onChange={(e)=>setLabel(e.target.value)} placeholder="e.g., Snack / Reimbursement" />
            </div>
            <div className="md:col-span-2">
              <Label className="text-xs">Amount (‚Çπ)</Label>
              <Input type="number" value={amount} onChange={(e)=>setAmount(e.target.value)} placeholder="200" />
            </div>
            <div className="md:col-span-1 flex items-end gap-2">
              <Button className="w-full" onClick={()=>{onQuickAdd({label, amount: Number(amount)||0, type:'in'}); setLabel(""); setAmount("");}}>In</Button>
              <Button className="w-full" variant="secondary" onClick={()=>{onQuickAdd({label, amount: Number(amount)||0, type:'out'}); setLabel(""); setAmount("");}}>Out</Button>
            </div>
          </CardContent>
          <CardFooter className="text-xs">Current cash: {currency(cashBalance)}</CardFooter>
        </Card>
      );
    };

    // ---------- Sections ----------
    const DashboardSection = ({ cashBalance, onQuickAdd }) => {
      const netSavings = useMemo(() => {
        const totalIn = monthlyCashflow.reduce((a, c) => a + c.inflow, 0);
        const totalOut = monthlyCashflow.reduce((a, c) => a + c.outflow, 0);
        return totalIn - totalOut;
      }, []);

      return (
        <div className="space-y-6">
          <SectionTitle icon={"üè†"} title="FinBuddy Overview" subtitle="Your money, made friendly." />
          <div className="grid md:grid-cols-4 gap-3">
            <KPI label="Cash Maintained" value={currency(cashBalance)} hint="Available in wallet / bank" />
            <KPI label="This Month ‚Äì Income" value={currency(monthlyCashflow.at(-1).inflow)} />
            <KPI label="This Month ‚Äì Spends" value={currency(monthlyCashflow.at(-1).outflow)} />
            <KPI label="Net Savings (6 mo)" value={currency(netSavings)} />
          </div>

          <Card>
            <CardHeader>
              <CardTitle className="flex items-center gap-2">üìà Cashflow (6 months)</CardTitle>
            </CardHeader>
            <CardContent className="h-56">
              <ResponsiveContainer width="100%" height="100%">
                <LineChart data={monthlyCashflow}>
                  <XAxis dataKey="month" />
                  <YAxis />
                  <Tooltip formatter={(v) => currency(v)} />
                  <Legend />
                  <Line type="monotone" dataKey="inflow" stroke="#10b981" strokeWidth={2} dot={false} />
                  <Line type="monotone" dataKey="outflow" stroke="#ef4444" strokeWidth={2} dot={false} />
                </LineChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>

          <Card>
            <CardHeader>
              <CardTitle className="flex items-center gap-2">üßæ Spending by Category</CardTitle>
            </CardHeader>
            <CardContent className="h-60">
              <ResponsiveContainer width="100%" height="100%">
                <PieChart>
                  <Pie data={spendingByCategory} dataKey="value" nameKey="name" innerRadius={60} outerRadius={100}>
                    {spendingByCategory.map((_, i) => (
                      <Cell key={i} fill={COLORS[i % COLORS.length]} />
                    ))}
                  </Pie>
                  <Tooltip formatter={(v) => currency(v)} />
                  <Legend />
                </PieChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>

          <QuickAdd cashBalance={cashBalance} onQuickAdd={onQuickAdd} />
        </div>
      );
    };

    const MoneyManagementSection = () => {
      const [tab, setTab] = useState("budget");
      return (
        <div className="space-y-6">
          <SectionTitle icon={"üëõ"} title="Money Management" subtitle="Budget, bills, and the cashflow calendar." />
          <div className="w-full">
            <div className="grid grid-cols-3 gap-2 bg-white border rounded-xl p-1">
              <button className={"px-3 py-2 rounded-lg text-sm " + (tab==="budget"?"bg-primary text-white":"")} onClick={()=>setTab("budget")}>Budget</button>
              <button className={"px-3 py-2 rounded-lg text-sm " + (tab==="bills"?"bg-primary text-white":"")} onClick={()=>setTab("bills")}>Bills</button>
              <button className={"px-3 py-2 rounded-lg text-sm " + (tab==="calendar"?"bg-primary text-white":"")} onClick={()=>setTab("calendar")}>Cashflow Calendar</button>
            </div>

            {tab === "budget" && (
              <Card className="mt-4">
                <CardHeader><CardTitle>Monthly Budget</CardTitle></CardHeader>
                <CardContent className="grid md:grid-cols-3 gap-3">
                  {spendingByCategory.map((row, i) => (
                    <Card key={row.name} className="border-dashed">
                      <CardHeader className="pb-2"><CardTitle className="text-sm">{row.name}</CardTitle></CardHeader>
                      <CardContent>
                        <div className="text-xl font-semibold">{currency(row.value)}</div>
                        <div className="h-2 bg-muted rounded-full mt-2">
                          <div className="h-2 rounded-full" style={{ width: Math.min(100, (row.value / 6000) * 100) + "%", backgroundColor: COLORS[i % COLORS.length] }}></div>
                        </div>
                        <div className="text-xs text-muted-foreground mt-1">Budget cap: {currency(6000)}</div>
                      </CardContent>
                    </Card>
                  ))}
                </CardContent>
              </Card>
            )}
            {tab === "bills" && (
              <div className="mt-4">
                <BillList />
              </div>
            )}
            {tab === "calendar" && (
              <div className="mt-4">
                <CashflowCalendar />
              </div>
            )}
          </div>
        </div>
      );
    };

    const SpendingSection = () => (
      <div className="space-y-6">
        <SectionTitle icon={"üí≥"} title="Spending Management" subtitle="Track spends, get alerts, and cut waste." />
        <Card>
          <CardHeader><CardTitle className="flex items-center gap-2">‚ú® Smart Alerts</CardTitle></CardHeader>
          <CardContent className="grid md:grid-cols-3 gap-3">
            <SmartAlert text="Spike in Food spends this week (+18%)." />
            <SmartAlert text="3 subscriptions renew next week (‚Çπ899 total)." />
            <SmartAlert text="Round-up savings ready: ‚Çπ126 to Micro Goals." />
          </CardContent>
        </Card>

        <Card>
          <CardHeader><CardTitle className="flex items-center gap-2">ü§ñ AI Insights</CardTitle></CardHeader>
          <CardContent className="space-y-2 text-sm text-muted-foreground">
            <p>üçµ Swap 2 caf√© runs for home brews ‚Üí save ~ {currency(480)} / week.</p>
            <p>üöó Take Metro twice this week ‚Üí save ~ {currency(220)} and 1.2kg CO‚ÇÇ.</p>
            <p>üì¶ Cancel idle subscription: "Stream+" (unused 45 days) ‚Üí {currency(299)} / month.</p>
          </CardContent>
        </Card>
      </div>
    );

    const InvestmentSection = () => {
      const total = investments.reduce((a, c) => a + c.value, 0);
      return (
        <div className="space-y-6">
          <SectionTitle icon={"üìà"} title="Investments" subtitle="Track and rebalance with simple nudges." />
          <div className="grid lg:grid-cols-2 gap-4">
            <Card>
              <CardHeader><CardTitle>Portfolio Split</CardTitle></CardHeader>
              <CardContent className="h-60">
                <ResponsiveContainer width="100%" height="100%">
                  <BarChart data={investments}>
                    <XAxis dataKey="name" />
                    <YAxis />
                    <Tooltip formatter={(v) => currency(v)} />
                    <Bar dataKey="value" radius={[8, 8, 0, 0]}>
                      {investments.map((_, i) => (
                        <Cell key={i} fill={COLORS[i % COLORS.length]} />
                      ))}
                    </Bar>
                  </BarChart>
                </ResponsiveContainer>
              </CardContent>
              <CardFooter>Total: <span className="font-semibold ml-1">{currency(total)}</span></CardFooter>
            </Card>

            <Card>
              <CardHeader><CardTitle>Coach Tips</CardTitle></CardHeader>
              <CardContent className="space-y-2 text-sm text-muted-foreground">
                <p>‚Ä¢ Rebalance: Lower FD by 5%, add to index MFs for long-term growth.</p>
                <p>‚Ä¢ SIP suggestion: {currency(3000)} / month ‚Üí Nifty 50 index fund.</p>
                <p>‚Ä¢ Rainy-day: keep {currency(60000)} in liquid funds (6 months expenses).</p>
              </CardContent>
            </Card>
          </div>
        </div>
      );
    };

    const GoalsSection = () => {
      const progressData = goalTemplates.map((g) => ({ name: g.label, value: Math.round((g.saved / g.target) * 100) }));
      return (
        <div className="space-y-6">
          <SectionTitle icon={"üéØ"} title="Micro Goals" subtitle="Tiny targets, big wins." />
          <div className="grid lg:grid-cols-2 gap-4">
            <Card>
              <CardHeader><CardTitle>Progress Radar</CardTitle></CardHeader>
              <CardContent className="h-64">
                <ResponsiveContainer width="100%" height="100%">
                  <RadialBarChart innerRadius="20%" outerRadius="90%" data={progressData}>
                    <RadialBar minAngle={15} clockWise dataKey="value" />
                    <Legend />
                    <Tooltip formatter={(v) => \`\${v}%\`} />
                  </RadialBarChart>
                </ResponsiveContainer>
              </CardContent>
            </Card>
            <Card>
              <CardHeader><CardTitle>Create / Manage Goals</CardTitle></CardHeader>
              <CardContent className="space-y-3">
                {goalTemplates.map((g, i) => (
                  <div key={g.id} className="p-3 rounded-xl border flex items-center gap-4">
                    <div className="w-32 text-sm">
                      <div className="font-semibold">{g.label}</div>
                      <div className="text-muted-foreground">{currency(g.saved)} / {currency(g.target)}</div>
                    </div>
                    <div className="h-2 flex-1 bg-muted rounded-full">
                      <div className="h-2 rounded-full" style={{ width: \`\${(g.saved / g.target) * 100}%\`, backgroundColor: COLORS[i % COLORS.length] }} />
                    </div>
                    <Button variant="secondary" className="ml-2">Boost</Button>
                  </div>
                ))}
                <div className="grid grid-cols-3 gap-2">
                  <Input placeholder="Goal name" />
                  <Input placeholder="Target (‚Çπ)" type="number" />
                  <Button>‚ûï Add</Button>
                </div>
                <p className="text-xs text-muted-foreground">Tip: Turn on round-ups to auto-fund goals with spare change.</p>
              </CardContent>
            </Card>
          </div>
        </div>
      );
    };

    const CalendarSection = () => (
      <div className="space-y-6">
        <SectionTitle icon={"üóìÔ∏è"} title="Cashflow Calendar" subtitle="Paydays, bills, and goals in one view." />
        <CashflowCalendar />
      </div>
    );

    const SocialSection = () => (
      <div className="space-y-6">
        <SectionTitle icon={"üë•"} title="Social Saving" subtitle="Challenges with friends that actually save money." />
        <div className="grid sm:grid-cols-2 lg:grid-cols-3 gap-4">
          {socialChallenges.map((c, i) => (
            <Card key={i}>
              <CardHeader>
                <CardTitle className="flex items-center justify-between">
                  <span>{c.name}</span>
                  <Badge className="rounded-full">{c.members} joined</Badge>
                </CardTitle>
              </CardHeader>
              <CardContent>
                <div className="text-sm text-muted-foreground">Savings Pot: <span className="font-semibold">{currency(c.pot)}</span></div>
                <div className="h-2 bg-muted rounded-full mt-3">
                  <div className="h-2 rounded-full" style={{ width: \`\${c.progress * 100}%\`, backgroundColor: COLORS[i % COLORS.length] }} />
                </div>
              </CardContent>
              <CardFooter>
                <Button className="w-full">Join Challenge</Button>
              </CardFooter>
            </Card>
          ))}
        </div>
      </div>
    );

    const CashMaintainedSection = ({ ledger, onAdd }) => {
      const balance = ledger.reduce((a, t) => a + (t.type === "in" ? t.amount : -t.amount), 0);
      return (
        <div className="space-y-6">
          <SectionTitle icon={"ü™ô"} title="Cash Maintained" subtitle="Quick ledger for wallet & petty cash." />
          <div className="grid md:grid-cols-3 gap-4">
            <KPI label="Current Balance" value={currency(balance)} />
            <KPI label="Inflow (30d)" value={currency(ledger.filter(l=>l.type==='in').reduce((a,c)=>a+c.amount,0))} />
            <KPI label="Outflow (30d)" value={currency(ledger.filter(l=>l.type==='out').reduce((a,c)=>a+c.amount,0))} />
          </div>
          <Card>
            <CardHeader><CardTitle>Add Entry</CardTitle></CardHeader>
            <CardContent className="grid sm:grid-cols-5 gap-2">
              <div className="sm:col-span-2">
                <Label className="text-xs">Label</Label>
                <Input id="entry-label" placeholder="e.g., Uber refund / Groceries" />
              </div>
              <div className="sm:col-span-2">
                <Label className="text-xs">Amount (‚Çπ)</Label>
                <Input id="entry-amount" type="number" placeholder="500" />
              </div>
              <div className="sm:col-span-1 flex items-end gap-2">
                <Button className="w-full" onClick={() => onAdd({ type: "in" })}>‚ûï In</Button>
                <Button className="w-full" variant="secondary" onClick={() => onAdd({ type: "out" })}>Out</Button>
              </div>
            </CardContent>
          </Card>
          <Card>
            <CardHeader><CardTitle>Recent Entries</CardTitle></CardHeader>
            <CardContent className="space-y-2">
              {ledger.length === 0 && <p className="text-sm text-muted-foreground">No entries yet. Add your first transaction above.</p>}
              {ledger.map((t, i) => (
                <div key={i} className="flex items-center justify-between p-3 border rounded-xl">
                  <div className="flex items-center gap-3">
                    <span className={t.type === "in" ? "text-emerald-600" : "text-rose-600"}>‚Çπ</span>
                    <div>
                      <div className="font-medium">{t.label}</div>
                      <div className="text-xs text-muted-foreground">{new Date(t.date).toLocaleString("en-IN")}</div>
                    </div>
                  </div>
                  <div className={"font-semibold " + (t.type === "in" ? "text-emerald-600" : "text-rose-600")}>
                    {t.type === "in" ? "+" : "-"}{currency(t.amount)}
                  </div>
                </div>
              ))}
            </CardContent>
          </Card>
        </div>
      );
    };

    const SettingsSection = () => (
      <div className="space-y-6">
        <SectionTitle icon={"‚öôÔ∏è"} title="Settings" subtitle="Personalize your coach." />
        <Card>
          <CardHeader><CardTitle>Preferences</CardTitle></CardHeader>
          <CardContent className="grid md:grid-cols-3 gap-4">
            <div className="flex items-center justify-between border rounded-xl p-3">
              <div>
                <div className="font-medium">Round-up Savings</div>
                <div className="text-xs text-muted-foreground">Spare change ‚Üí goals</div>
              </div>
              <Switch defaultChecked />
            </div>
            <div className="flex items-center justify-between border rounded-xl p-3">
              <div>
                <div className="font-medium">Spending Alerts</div>
                <div className="text-xs text-muted-foreground">Detect spikes & renewals</div>
              </div>
              <Switch defaultChecked />
            </div>
            <div className="flex items-center justify-between border rounded-xl p-3">
              <div>
                <div className="font-medium">Dark Mode</div>
                <div className="text-xs text-muted-foreground">Auto at night</div>
              </div>
              <Switch />
            </div>
          </CardContent>
        </Card>

        <Card>
          <CardHeader><CardTitle>Learning Hub</CardTitle></CardHeader>
          <CardContent className="space-y-2 text-sm text-muted-foreground">
            <p>üìò SIP vs Lumpsum ‚Äî what suits Gen Z cashflows?</p>
            <p>üìò How to read expense ratios in index funds.</p>
            <p>üìò Student credit cards without annual fees.</p>
          </CardContent>
        </Card>
      </div>
    );

    // ---------- Bottom Nav ----------
    const NAV = [
      { key: "home", label: "Home", icon: "üè†" },
      { key: "money", label: "Money", icon: "üëõ" },
      { key: "spending", label: "Spends", icon: "üßæ" },
      { key: "invest", label: "Invest", icon: "üìà" },
      { key: "goals", label: "Goals", icon: "üêñ" },
      { key: "calendar", label: "Calendar", icon: "üóìÔ∏è" },
      { key: "social", label: "Social", icon: "üë•" },
      { key: "cash", label: "Cash", icon: "ü™ô" },
      { key: "settings", label: "Settings", icon: "‚öôÔ∏è" },
    ];

    // ---------- Root App ----------
    function App() {
      const [tab, setTab] = useState("home");
      const [ledger, setLedger] = useState([
        { type: "in", label: "Wallet Top-up", amount: 2000, date: Date.now() - 86400000 * 2 },
        { type: "out", label: "Snacks", amount: 120, date: Date.now() - 86400000 * 2 },
        { type: "out", label: "Auto", amount: 90, date: Date.now() - 86400000 * 1 },
      ]);
      const cashBalance = ledger.reduce((a, t) => a + (t.type === "in" ? t.amount : -t.amount), 0);

      const onQuickAdd = (t) => {
        if (!t || !t.label || !t.amount) return;
        setLedger((prev) => [...prev, { ...t, date: Date.now() }]);
      };

      const onCashAdd = ({ type }) => {
        const label = document.getElementById("entry-label")?.value?.trim();
        const amt = Number(document.getElementById("entry-amount")?.value || 0);
        if (!label || !amt) return;
        setLedger((prev) => [...prev, { type, label, amount: amt, date: Date.now() }]);
        const l = document.getElementById("entry-label");
        const a = document.getElementById("entry-amount");
        if (l) l.value = "";
        if (a) a.value = "";
      };

      return (
        <div className="min-h-screen">
          <div className="max-w-5xl mx-auto px-3 pb-24 pt-6">
            {/* Header */}
            <div className="flex items-center justify-between mb-4">
              <div className="flex items-center gap-2">
                <div className="h-9 w-9 rounded-2xl bg-primary/10 grid place-content-center">
                  <span className="text-primary">üêñ</span>
                </div>
                <div>
                  <h1 className="text-lg font-semibold">FinBuddy</h1>
                  <p className="text-xs text-muted-foreground">Smart Financial Coach for Gen Z</p>
                </div>
              </div>
              <Button variant="secondary" className="text-sm">‚ú® Ask Coach</Button>
            </div>

            <div className="space-y-6">
              {tab === "home" && <DashboardSection cashBalance={cashBalance} onQuickAdd={onQuickAdd} />}
              {tab === "money" && <MoneyManagementSection />}
              {tab === "spending" && <SpendingSection />}
              {tab === "invest" && <InvestmentSection />}
              {tab === "goals" && <GoalsSection />}
              {tab === "calendar" && <CalendarSection />}
              {tab === "social" && <SocialSection />}
              {tab === "cash" && <CashMaintainedSection ledger={ledger} onAdd={onCashAdd} />}
              {tab === "settings" && <SettingsSection />}
            </div>
          </div>

          {/* Bottom Nav */}
          <nav className="fixed bottom-3 left-1/2 -translate-x-1/2 w-[min(100%-1rem,64rem)]">
            <div className="bg-white/80 backdrop-blur border rounded-2xl shadow-lg px-2 py-1 grid grid-cols-9">
              {NAV.map((n) => {
                const active = tab === n.key;
                return (
                  <button
                    key={n.key}
                    onClick={() => setTab(n.key)}
                    className={"flex flex-col items-center py-2 rounded-xl transition " + (active ? "text-primary" : "text-gray-500 hover:text-gray-900")}
                    aria-label={n.label}
                  >
                    <span className={"text-base " + (active ? "" : "opacity-80")}>{n.icon}</span>
                    <span className="text-[10px] mt-1">{n.label}</span>
                  </button>
                );
              })}
            </div>
          </nav>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
